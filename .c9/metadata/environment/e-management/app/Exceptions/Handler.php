{"filter":false,"title":"Handler.php","tooltip":"/e-management/app/Exceptions/Handler.php","undoManager":{"mark":24,"position":24,"stack":[[{"start":{"row":49,"column":5},"end":{"row":50,"column":0},"action":"insert","lines":["",""],"id":2},{"start":{"row":50,"column":0},"end":{"row":50,"column":4},"action":"insert","lines":["    "]},{"start":{"row":50,"column":4},"end":{"row":51,"column":0},"action":"insert","lines":["",""]},{"start":{"row":51,"column":0},"end":{"row":51,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":51,"column":4},"end":{"row":66,"column":5},"action":"insert","lines":["protected function unauthenticated($request, AuthenticationException $exception)","    {","        if ($request->expectsJson()) {","            return response()->json(['error' => 'Unauthenticated.'], 401);","        }","        $guard = array_get($exception->guards(), 0);","        switch ($guard) {","          case 'admin':","            $login = 'admin.login';","            break;","          default:","            $login = 'login';","            break;","        }","        return redirect()->guest(route($login));","    }"],"id":3}],[{"start":{"row":4,"column":14},"end":{"row":5,"column":0},"action":"insert","lines":["",""],"id":4}],[{"start":{"row":5,"column":0},"end":{"row":5,"column":44},"action":"insert","lines":["use Illuminate\\Auth\\AuthenticationException;"],"id":5}],[{"start":{"row":52,"column":5},"end":{"row":67,"column":5},"action":"remove","lines":["rotected function unauthenticated($request, AuthenticationException $exception)","    {","        if ($request->expectsJson()) {","            return response()->json(['error' => 'Unauthenticated.'], 401);","        }","        $guard = array_get($exception->guards(), 0);","        switch ($guard) {","          case 'admin':","            $login = 'admin.login';","            break;","          default:","            $login = 'login';","            break;","        }","        return redirect()->guest(route($login));","    }"],"id":6},{"start":{"row":52,"column":4},"end":{"row":52,"column":5},"action":"remove","lines":["p"]}],[{"start":{"row":52,"column":4},"end":{"row":63,"column":5},"action":"insert","lines":["public function unauthenticated($request, AuthenticationException $exception)","    {","        if($request->expectsJson()){","            return response()->json(['message' => $exception->getMessage()], 401);","        }"," ","        if (in_array('admin', $exception->guards())) {","            return redirect()->guest(route('admin.login'));","        }"," ","        return redirect()->guest(route('login'));","    }"],"id":7}],[{"start":{"row":50,"column":5},"end":{"row":51,"column":0},"action":"insert","lines":["",""],"id":8},{"start":{"row":51,"column":0},"end":{"row":51,"column":4},"action":"insert","lines":["    "]},{"start":{"row":51,"column":4},"end":{"row":52,"column":0},"action":"insert","lines":["",""]},{"start":{"row":52,"column":0},"end":{"row":52,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":52,"column":4},"end":{"row":57,"column":7},"action":"insert","lines":["* 認証していない場合にガードを見てそれぞれのログインページへ飛ばず","     *","     * @param \\Illuminate\\Http\\Request $request","     * @param AuthenticationException $exception","     * @return \\Illuminate\\Http\\JsonResponse|\\Illuminate\\Http\\RedirectResponse|\\Illuminate\\Http\\Response","     */"],"id":9}],[{"start":{"row":52,"column":4},"end":{"row":52,"column":5},"action":"insert","lines":["/"],"id":10}],[{"start":{"row":0,"column":0},"end":{"row":57,"column":7},"action":"remove","lines":["<?php","","namespace App\\Exceptions;","","use Exception;","use Illuminate\\Auth\\AuthenticationException;","use Illuminate\\Foundation\\Exceptions\\Handler as ExceptionHandler;","","class Handler extends ExceptionHandler","{","    /**","     * A list of the exception types that are not reported.","     *","     * @var array","     */","    protected $dontReport = [","        //","    ];","","    /**","     * A list of the inputs that are never flashed for validation exceptions.","     *","     * @var array","     */","    protected $dontFlash = [","        'password',","        'password_confirmation',","    ];","","    /**","     * Report or log an exception.","     *","     * @param  \\Exception  $exception","     * @return void","     */","    public function report(Exception $exception)","    {","        parent::report($exception);","    }","","    /**","     * Render an exception into an HTTP response.","     *","     * @param  \\Illuminate\\Http\\Request  $request","     * @param  \\Exception  $exception","     * @return \\Illuminate\\Http\\Response","     */","    public function render($request, Exception $exception)","    {","        return parent::render($request, $exception);","    }","    ","    /* 認証していない場合にガードを見てそれぞれのログインページへ飛ばず","     *","     * @param \\Illuminate\\Http\\Request $request","     * @param AuthenticationException $exception","     * @return \\Illuminate\\Http\\JsonResponse|\\Illuminate\\Http\\RedirectResponse|\\Illuminate\\Http\\Response","     */"],"id":11}],[{"start":{"row":0,"column":0},"end":{"row":51,"column":0},"action":"insert","lines":["?php","","namespace App\\Exceptions;","","use Exception;","use Illuminate\\Foundation\\Exceptions\\Handler as ExceptionHandler;","","class Handler extends ExceptionHandler","{","    /**","     * A list of the exception types that are not reported.","     *","     * @var array","     */","    protected $dontReport = [","        //","    ];","","    /**","     * A list of the inputs that are never flashed for validation exceptions.","     *","     * @var array","     */","    protected $dontFlash = [","        'password',","        'password_confirmation',","    ];","","    /**","     * Report or log an exception.","     *","     * @param  \\Exception  $exception","     * @return void","     */","    public function report(Exception $exception)","    {","        parent::report($exception);","    }","","    /**","     * Render an exception into an HTTP response.","     *","     * @param  \\Illuminate\\Http\\Request  $request","     * @param  \\Exception  $exception","     * @return \\Illuminate\\Http\\Response","     */","    public function render($request, Exception $exception)","    {","        return parent::render($request, $exception);","    }","}",""],"id":12}],[{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"insert","lines":["<"],"id":13}],[{"start":{"row":50,"column":0},"end":{"row":50,"column":1},"action":"remove","lines":["}"],"id":14}],[{"start":{"row":52,"column":2},"end":{"row":52,"column":3},"action":"remove","lines":[" "],"id":15},{"start":{"row":52,"column":1},"end":{"row":52,"column":2},"action":"remove","lines":[" "]},{"start":{"row":52,"column":0},"end":{"row":52,"column":1},"action":"remove","lines":[" "]},{"start":{"row":51,"column":0},"end":{"row":52,"column":1},"action":"remove","lines":[""," "]},{"start":{"row":50,"column":0},"end":{"row":51,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":51,"column":4},"end":{"row":62,"column":5},"action":"remove","lines":["public function unauthenticated($request, AuthenticationException $exception)","    {","        if($request->expectsJson()){","            return response()->json(['message' => $exception->getMessage()], 401);","        }"," ","        if (in_array('admin', $exception->guards())) {","            return redirect()->guest(route('admin.login'));","        }"," ","        return redirect()->guest(route('login'));","    }"],"id":16},{"start":{"row":51,"column":0},"end":{"row":51,"column":4},"action":"remove","lines":["    "]},{"start":{"row":50,"column":0},"end":{"row":51,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":49,"column":5},"end":{"row":50,"column":0},"action":"insert","lines":["",""],"id":17},{"start":{"row":50,"column":0},"end":{"row":50,"column":4},"action":"insert","lines":["    "]},{"start":{"row":50,"column":4},"end":{"row":51,"column":0},"action":"insert","lines":["",""]},{"start":{"row":51,"column":0},"end":{"row":51,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":51,"column":4},"end":{"row":68,"column":5},"action":"insert","lines":["* 認証していない場合にガードを見てそれぞれのログインページへ飛ばず","     *","     * @param \\Illuminate\\Http\\Request $request","     * @param AuthenticationException $exception","     * @return \\Illuminate\\Http\\JsonResponse|\\Illuminate\\Http\\RedirectResponse|\\Illuminate\\Http\\Response","     */","    public function unauthenticated($request, AuthenticationException $exception)","    {","        if($request->expectsJson()){","            return response()->json(['message' => $exception->getMessage()], 401);","        }"," ","        if (in_array('admin', $exception->guards())) {","            return redirect()->guest(route('admin.login'));","        }"," ","        return redirect()->guest(route('login'));","    }"],"id":18}],[{"start":{"row":51,"column":4},"end":{"row":51,"column":5},"action":"insert","lines":["/"],"id":19}],[{"start":{"row":70,"column":1},"end":{"row":71,"column":0},"action":"insert","lines":["",""],"id":20}],[{"start":{"row":4,"column":14},"end":{"row":5,"column":0},"action":"insert","lines":["",""],"id":21}],[{"start":{"row":5,"column":0},"end":{"row":5,"column":45},"action":"insert","lines":["use Illuminate\\Auth\\AuthenticationException; "],"id":22}],[{"start":{"row":64,"column":50},"end":{"row":64,"column":51},"action":"insert","lines":[","],"id":23}],[{"start":{"row":64,"column":51},"end":{"row":64,"column":52},"action":"insert","lines":[" "],"id":24},{"start":{"row":64,"column":52},"end":{"row":64,"column":53},"action":"insert","lines":["t"]},{"start":{"row":64,"column":53},"end":{"row":64,"column":54},"action":"insert","lines":["r"]},{"start":{"row":64,"column":54},"end":{"row":64,"column":55},"action":"insert","lines":["u"]},{"start":{"row":64,"column":55},"end":{"row":64,"column":56},"action":"insert","lines":["e"]}],[{"start":{"row":64,"column":56},"end":{"row":64,"column":57},"action":"insert","lines":[" "],"id":25}],[{"start":{"row":64,"column":56},"end":{"row":64,"column":57},"action":"remove","lines":[" "],"id":26}]]},"ace":{"folds":[],"scrolltop":1002.5,"scrollleft":0,"selection":{"start":{"row":72,"column":0},"end":{"row":72,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":49,"state":"php-start","mode":"ace/mode/php"}},"timestamp":1609035494240,"hash":"06e5a3e2835ab4b084785085718b077acdeb75d7"}